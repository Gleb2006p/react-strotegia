{"ast":null,"code":"import { regions } from \"./region-state\";\nimport { regionReducer } from \"./region-reducer\";\n\nlet rerender = () => {};\n\nlet regionsStore = {\n  get regions() {\n    return regions;\n  },\n\n  update() {\n    for (let region of regions) {\n      region.setColor();\n    }\n  },\n\n  getValue(tag, type) {\n    let typeSumm = 0;\n\n    for (let region of regions) {\n      if (region.owner.tag === tag) {\n        let typeValue = region[type];\n        typeSumm += typeValue;\n      }\n    }\n\n    return typeSumm;\n  },\n\n  dispatch(action) {\n    regionReducer(regions, action);\n  },\n\n  setOwnerRegions(countriesState) {\n    for (let countryStateKey in countriesState) {\n      let countryState = countriesState[countryStateKey];\n\n      for (let region of regions) {\n        if (region.ownerTag === countryState.tag) {\n          region.owner = countryState;\n        }\n      }\n    }\n  },\n\n  setOnUpdate(callback) {\n    rerender = callback;\n  }\n\n};\nexport default regionsStore;","map":{"version":3,"sources":["C:/Users/Glib/Desktop/projects/minecraft-countries/src/store/store-regions/regions-store.js"],"names":["regions","regionReducer","rerender","regionsStore","update","region","setColor","getValue","tag","type","typeSumm","owner","typeValue","dispatch","action","setOwnerRegions","countriesState","countryStateKey","countryState","ownerTag","setOnUpdate","callback"],"mappings":"AACA,SAAQA,OAAR,QAAsB,gBAAtB;AACA,SAAQC,aAAR,QAA4B,kBAA5B;;AACA,IAAIC,QAAQ,GAAG,MAAI,CAAE,CAArB;;AACA,IAAIC,YAAY,GAAG;AACf,MAAIH,OAAJ,GAAa;AACT,WAAOA,OAAP;AACH,GAHc;;AAIfI,EAAAA,MAAM,GAAE;AACJ,SAAK,IAAIC,MAAT,IAAmBL,OAAnB,EAA2B;AACvBK,MAAAA,MAAM,CAACC,QAAP;AACH;AACJ,GARc;;AASfC,EAAAA,QAAQ,CAACC,GAAD,EAAMC,IAAN,EAAW;AACf,QAAIC,QAAQ,GAAG,CAAf;;AACA,SAAK,IAAIL,MAAT,IAAmBL,OAAnB,EAA2B;AACvB,UAAIK,MAAM,CAACM,KAAP,CAAaH,GAAb,KAAqBA,GAAzB,EAA6B;AACzB,YAAII,SAAS,GAAGP,MAAM,CAACI,IAAD,CAAtB;AACAC,QAAAA,QAAQ,IAAIE,SAAZ;AACH;AACJ;;AACD,WAAOF,QAAP;AACH,GAlBc;;AAmBfG,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACbb,IAAAA,aAAa,CAACD,OAAD,EAAUc,MAAV,CAAb;AACH,GArBc;;AAsBfC,EAAAA,eAAe,CAACC,cAAD,EAAgB;AAC3B,SAAK,IAAIC,eAAT,IAA4BD,cAA5B,EAA2C;AACvC,UAAIE,YAAY,GAAGF,cAAc,CAACC,eAAD,CAAjC;;AACA,WAAK,IAAIZ,MAAT,IAAmBL,OAAnB,EAA2B;AACvB,YAAIK,MAAM,CAACc,QAAP,KAAoBD,YAAY,CAACV,GAArC,EAA0C;AACtCH,UAAAA,MAAM,CAACM,KAAP,GAAeO,YAAf;AAEH;AACJ;AACJ;AACJ,GAhCc;;AAiCfE,EAAAA,WAAW,CAACC,QAAD,EAAU;AACjBnB,IAAAA,QAAQ,GAAGmB,QAAX;AACH;;AAnCc,CAAnB;AAqCA,eAAgBlB,YAAhB","sourcesContent":["\r\nimport {regions} from \"./region-state\";\r\nimport {regionReducer} from \"./region-reducer\";\r\nlet rerender = ()=>{};\r\nlet regionsStore = {\r\n    get regions(){\r\n        return regions;\r\n    },\r\n    update(){\r\n        for (let region of regions){\r\n            region.setColor();\r\n        }\r\n    },\r\n    getValue(tag, type){\r\n        let typeSumm = 0;\r\n        for (let region of regions){\r\n            if (region.owner.tag === tag){\r\n                let typeValue = region[type];\r\n                typeSumm += typeValue;\r\n            }\r\n        }\r\n        return typeSumm;\r\n    },\r\n    dispatch(action) {\r\n        regionReducer(regions, action);\r\n    },\r\n    setOwnerRegions(countriesState){\r\n        for (let countryStateKey in countriesState){\r\n            let countryState = countriesState[countryStateKey];\r\n            for (let region of regions){\r\n                if (region.ownerTag === countryState.tag) {\r\n                    region.owner = countryState;\r\n\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setOnUpdate(callback){\r\n        rerender = callback;\r\n    }\r\n}\r\nexport  default regionsStore;"]},"metadata":{},"sourceType":"module"}