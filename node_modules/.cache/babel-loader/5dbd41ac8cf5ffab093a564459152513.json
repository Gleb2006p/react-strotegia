{"ast":null,"code":"let commander = {\n  name: '',\n  image: '',\n\n  influences(store) {},\n\n  addOptions() {}\n\n};\nconst IDEA_TAG = {\n  MON: 'monarchy',\n  DEM: 'democracy',\n  IMP: 'imperialism',\n  COM: 'communism'\n};\nlet store = {\n  _state: {\n    flags: {\n      democracy: 'democracy_sikvoa.png',\n      monarchy: 'sikvoa.png'\n    },\n    currentFlag: 'sikvoa.png',\n    ideologues: {\n      communism: 0,\n      monarchy: 66,\n      imperialism: 33,\n      democracy: 0\n    },\n    ideologuesDrift: {\n      monarchy: 0,\n      imperialism: 0,\n      communism: 0,\n      democracy: 0\n    },\n    commanders: [{\n      __proto__: commander,\n      name: 'Глеб',\n      image: 'images/commanders/gleb.png',\n\n      influence(store) {\n        store.setDrift(IDEA_TAG.IMP, 10, this);\n      },\n\n      addOptions() {}\n\n    }, {\n      __proto__: commander,\n      name: 'Дима',\n      image: 'images/commanders/dima.png',\n\n      influence(store) {\n        store.setDrift(IDEA_TAG.MON, 0.5, this);\n      },\n\n      addOptions() {}\n\n    }]\n  },\n\n  update() {\n    this._state.ideologuesDrift = {\n      monarchy: 0,\n      imperialism: 0,\n      communism: 0,\n      democracy: 0\n    };\n\n    for (let commander of this._state.commanders) {\n      commander.influence(this);\n    }\n\n    for (let ideology in this._state.ideologuesDrift) {\n      this._state[ideology] += this._state.ideologuesDrift[ideology];\n    }\n  },\n\n  setDrift(ideology, driftValue, user) {\n    this._state.ideologuesDrift[ideology] += driftValue;\n  },\n\n  generateIdeologuesData() {\n    let data = [];\n\n    for (let ideology in this._state.ideologues) {\n      let population = this._state.ideologues[ideology];\n      let dataObject = [ideology, population];\n      data.push(dataObject);\n    }\n\n    return data;\n  },\n\n  get commanders() {\n    return this._state.commanders;\n  },\n\n  get flag() {\n    return `images/flags/${this._state.currentFlag}`;\n  }\n\n};\nstore.update();\nexport default store;","map":{"version":3,"sources":["C:/Users/Glib/Desktop/projects/minecraft-countries/src/store/store.js"],"names":["commander","name","image","influences","store","addOptions","IDEA_TAG","MON","DEM","IMP","COM","_state","flags","democracy","monarchy","currentFlag","ideologues","communism","imperialism","ideologuesDrift","commanders","__proto__","influence","setDrift","update","ideology","driftValue","user","generateIdeologuesData","data","population","dataObject","push","flag"],"mappings":"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","sourcesContent":["let commander = {\r\n    name: '',\r\n    image: '',\r\n    influences(store) {\r\n\r\n    },\r\n    addOptions() {\r\n\r\n    },\r\n}\r\nconst IDEA_TAG = {\r\n    MON : 'monarchy',\r\n    DEM : 'democracy',\r\n    IMP : 'imperialism',\r\n    COM : 'communism',\r\n}\r\nlet store = {\r\n    _state : {\r\n        flags : {\r\n            democracy : 'democracy_sikvoa.png',\r\n            monarchy  : 'sikvoa.png',\r\n        },\r\n        currentFlag : 'sikvoa.png',\r\n        ideologues : {\r\n            communism : 0,\r\n            monarchy : 66,\r\n            imperialism : 33,\r\n            democracy : 0,\r\n        },\r\n        ideologuesDrift : {\r\n            monarchy : 0,\r\n            imperialism: 0,\r\n            communism : 0,\r\n            democracy : 0\r\n        },\r\n        commanders : [\r\n            {\r\n                __proto__ : commander,\r\n                name : 'Глеб',\r\n                image : 'images/commanders/gleb.png',\r\n                influence(store){\r\n                    store.setDrift(IDEA_TAG.IMP, 10, this)\r\n                },\r\n                addOptions(){\r\n\r\n                }\r\n            },\r\n            {\r\n                __proto__: commander,\r\n                name : 'Дима',\r\n                image : 'images/commanders/dima.png',\r\n                influence(store) {\r\n                    store.setDrift(IDEA_TAG.MON, 0.5, this);\r\n                },\r\n                addOptions() {\r\n\r\n                }\r\n\r\n            }\r\n        ]\r\n    },\r\n    update(){\r\n        this._state.ideologuesDrift = {\r\n                monarchy : 0,\r\n                imperialism: 0,\r\n                communism : 0,\r\n                democracy : 0\r\n        };\r\n        for (let commander of this._state.commanders){\r\n            commander.influence(this);\r\n        }\r\n        for (let ideology in this._state.ideologuesDrift){\r\n            this._state[ideology] += this._state.ideologuesDrift[ideology];\r\n        }\r\n    },\r\n    setDrift(ideology, driftValue, user){\r\n        this._state.ideologuesDrift[ideology] += driftValue;\r\n    },\r\n    generateIdeologuesData(){\r\n        let data = [];\r\n\r\n        for (let ideology in this._state.ideologues){\r\n\r\n            let population = this._state.ideologues[ideology];\r\n            let dataObject = [ideology, population];\r\n            data.push(dataObject)\r\n        }\r\n        return data;\r\n    },\r\n    get commanders(){\r\n        return this._state.commanders;\r\n    },\r\n    get flag(){\r\n        return `images/flags/${this._state.currentFlag}`;\r\n    }\r\n}\r\nstore.update();\r\nexport default store;"]},"metadata":{},"sourceType":"module"}